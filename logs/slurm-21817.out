#!/usr/bin/bash

#SBATCH -J mipnerf-multicam
#SBATCH --gres=gpu:1
#SBATCH --cpus-per-gpu=8
#SBATCH --mem-per-gpu=32G
#SBATCH -p batch_ugrad
#SBATCH -t 1-0
#SBATCH -o logs/slurm-%A.out

cat sbatch.sh
pwd
which python
hostname
# python train.py --dataset_name multicam --log_dir log/multicam --batch_size 512
python visualize.py --dataset_name llff --model_weight_path log/llff/model.pt --scene flower --log_dir log/llff
python extract_mesh.py --log_dir log/llff
exit 0
/data/csj000714/repos/mipnerf-pytorch
/data/csj000714/anaconda3/envs/mipNeRF/bin/python
aurora-g6
Generating Render Poses
Generating rays
Done

Generating Video using 120 different view points
  0%|          | 0/120 [00:00<?, ?it/s]  1%|          | 1/120 [00:42<1:23:21, 42.03s/it]  2%|▏         | 2/120 [01:21<1:20:01, 40.69s/it]  2%|▎         | 3/120 [02:02<1:19:41, 40.87s/it]  3%|▎         | 4/120 [02:43<1:18:34, 40.64s/it]  4%|▍         | 5/120 [03:23<1:17:23, 40.38s/it]  5%|▌         | 6/120 [04:02<1:16:22, 40.20s/it]  6%|▌         | 7/120 [04:42<1:15:31, 40.10s/it]  7%|▋         | 8/120 [05:22<1:14:37, 39.98s/it]  8%|▊         | 9/120 [06:01<1:13:36, 39.79s/it]  8%|▊         | 10/120 [06:43<1:13:51, 40.29s/it]  9%|▉         | 11/120 [07:23<1:13:07, 40.25s/it] 10%|█         | 12/120 [08:03<1:12:32, 40.30s/it] 11%|█         | 13/120 [08:43<1:11:28, 40.08s/it] 12%|█▏        | 14/120 [09:23<1:10:52, 40.12s/it] 12%|█▎        | 15/120 [10:03<1:09:55, 39.95s/it] 13%|█▎        | 16/120 [10:43<1:09:31, 40.11s/it] 14%|█▍        | 17/120 [11:23<1:08:46, 40.06s/it] 15%|█▌        | 18/120 [12:04<1:08:24, 40.24s/it] 16%|█▌        | 19/120 [12:44<1:07:42, 40.22s/it] 17%|█▋        | 20/120 [13:24<1:06:59, 40.19s/it] 18%|█▊        | 21/120 [14:04<1:06:10, 40.11s/it] 18%|█▊        | 22/120 [14:44<1:05:25, 40.06s/it] 19%|█▉        | 23/120 [15:24<1:04:39, 39.99s/it] 20%|██        | 24/120 [16:04<1:04:06, 40.06s/it] 21%|██        | 25/120 [16:44<1:03:29, 40.10s/it] 22%|██▏       | 26/120 [17:25<1:03:02, 40.24s/it] 22%|██▎       | 27/120 [18:05<1:02:13, 40.15s/it] 23%|██▎       | 28/120 [18:45<1:01:37, 40.19s/it] 24%|██▍       | 29/120 [19:25<1:00:37, 39.98s/it] 25%|██▌       | 30/120 [20:05<1:00:06, 40.07s/it] 26%|██▌       | 31/120 [20:45<59:17, 39.97s/it]   27%|██▋       | 32/120 [21:25<58:52, 40.15s/it] 28%|██▊       | 33/120 [22:05<58:10, 40.12s/it] 28%|██▊       | 34/120 [22:45<57:33, 40.16s/it] 29%|██▉       | 35/120 [23:25<56:46, 40.07s/it] 30%|███       | 36/120 [24:05<56:01, 40.01s/it] 31%|███       | 37/120 [24:45<55:16, 39.96s/it] 32%|███▏      | 38/120 [25:25<54:43, 40.04s/it] 32%|███▎      | 39/120 [26:05<54:06, 40.08s/it] 33%|███▎      | 40/120 [26:46<53:36, 40.21s/it] 34%|███▍      | 41/120 [27:26<52:49, 40.11s/it] 35%|███▌      | 42/120 [28:06<52:12, 40.17s/it] 36%|███▌      | 43/120 [28:46<51:16, 39.96s/it] 37%|███▋      | 44/120 [29:26<50:44, 40.05s/it] 38%|███▊      | 45/120 [30:06<49:56, 39.95s/it] 38%|███▊      | 46/120 [30:46<49:30, 40.15s/it] 39%|███▉      | 47/120 [31:26<48:49, 40.13s/it] 40%|████      | 48/120 [32:06<48:12, 40.17s/it] 41%|████      | 49/120 [32:46<47:26, 40.09s/it] 42%|████▏     | 50/120 [33:26<46:42, 40.04s/it] 42%|████▎     | 51/120 [34:06<45:57, 39.97s/it] 43%|████▎     | 52/120 [34:46<45:21, 40.02s/it] 44%|████▍     | 53/120 [35:26<44:43, 40.05s/it] 45%|████▌     | 54/120 [36:07<44:12, 40.18s/it] 46%|████▌     | 55/120 [36:47<43:26, 40.10s/it] 47%|████▋     | 56/120 [37:27<42:52, 40.20s/it] 48%|████▊     | 57/120 [38:07<41:59, 39.99s/it] 48%|████▊     | 58/120 [38:47<41:24, 40.08s/it] 49%|████▉     | 59/120 [39:27<40:39, 39.99s/it] 50%|█████     | 60/120 [40:07<40:06, 40.12s/it] 51%|█████     | 61/120 [40:47<39:24, 40.08s/it] 52%|█████▏    | 62/120 [41:27<38:46, 40.12s/it] 52%|█████▎    | 63/120 [42:07<38:03, 40.06s/it] 53%|█████▎    | 64/120 [42:47<37:25, 40.10s/it] 54%|█████▍    | 65/120 [43:28<36:45, 40.09s/it] 55%|█████▌    | 66/120 [44:08<36:08, 40.16s/it] 56%|█████▌    | 67/120 [44:48<35:25, 40.10s/it] 57%|█████▋    | 68/120 [45:28<34:47, 40.15s/it] 57%|█████▊    | 69/120 [46:08<33:59, 39.99s/it] 58%|█████▊    | 70/120 [46:48<33:23, 40.06s/it] 59%|█████▉    | 71/120 [47:28<32:36, 39.94s/it] 60%|██████    | 72/120 [48:08<32:03, 40.06s/it] 61%|██████    | 73/120 [48:48<31:20, 40.01s/it] 62%|██████▏   | 74/120 [49:28<30:48, 40.19s/it] 62%|██████▎   | 75/120 [50:09<30:07, 40.16s/it] 63%|██████▎   | 76/120 [50:49<29:27, 40.16s/it] 64%|██████▍   | 77/120 [51:28<28:41, 40.03s/it] 65%|██████▌   | 78/120 [52:08<28:00, 40.01s/it] 66%|██████▌   | 79/120 [52:48<27:19, 39.98s/it] 67%|██████▋   | 80/120 [53:29<26:42, 40.06s/it] 68%|██████▊   | 81/120 [54:09<26:02, 40.07s/it] 68%|██████▊   | 82/120 [54:49<25:27, 40.20s/it] 69%|██████▉   | 83/120 [55:29<24:43, 40.10s/it] 70%|███████   | 84/120 [56:09<24:07, 40.20s/it] 71%|███████   | 85/120 [56:49<23:21, 40.03s/it] 72%|███████▏  | 86/120 [57:29<22:43, 40.10s/it] 72%|███████▎  | 87/120 [58:09<21:59, 39.98s/it] 73%|███████▎  | 88/120 [58:50<21:24, 40.13s/it] 74%|███████▍  | 89/120 [59:29<20:41, 40.04s/it] 75%|███████▌  | 90/120 [1:00:10<20:02, 40.07s/it] 76%|███████▌  | 91/120 [1:00:50<19:22, 40.07s/it] 77%|███████▋  | 92/120 [1:01:30<18:43, 40.12s/it] 78%|███████▊  | 93/120 [1:02:10<18:01, 40.05s/it] 78%|███████▊  | 94/120 [1:02:50<17:22, 40.09s/it] 79%|███████▉  | 95/120 [1:03:30<16:40, 40.02s/it] 80%|████████  | 96/120 [1:04:10<16:03, 40.14s/it] 81%|████████  | 97/120 [1:04:50<15:20, 40.01s/it] 82%|████████▏ | 98/120 [1:05:30<14:41, 40.08s/it] 82%|████████▎ | 99/120 [1:06:10<13:59, 39.97s/it] 83%|████████▎ | 100/120 [1:06:50<13:22, 40.12s/it] 84%|████████▍ | 101/120 [1:07:30<12:41, 40.07s/it] 85%|████████▌ | 102/120 [1:08:11<12:03, 40.20s/it] 86%|████████▌ | 103/120 [1:08:51<11:21, 40.09s/it] 87%|████████▋ | 104/120 [1:09:31<10:41, 40.07s/it] 88%|████████▊ | 105/120 [1:10:10<09:59, 39.99s/it] 88%|████████▊ | 106/120 [1:10:51<09:20, 40.03s/it] 89%|████████▉ | 107/120 [1:11:30<08:39, 39.97s/it] 90%|█████████ | 108/120 [1:12:11<08:00, 40.06s/it] 91%|█████████ | 109/120 [1:12:51<07:20, 40.07s/it] 92%|█████████▏| 110/120 [1:13:31<06:42, 40.20s/it] 92%|█████████▎| 111/120 [1:14:11<06:00, 40.11s/it] 93%|█████████▎| 112/120 [1:14:51<05:21, 40.18s/it] 94%|█████████▍| 113/120 [1:15:31<04:40, 40.01s/it] 95%|█████████▌| 114/120 [1:16:11<04:00, 40.08s/it] 96%|█████████▌| 115/120 [1:16:51<03:19, 39.98s/it] 97%|█████████▋| 116/120 [1:17:32<02:40, 40.12s/it] 98%|█████████▊| 117/120 [1:18:11<02:00, 40.05s/it] 98%|█████████▊| 118/120 [1:18:52<01:20, 40.08s/it] 99%|█████████▉| 119/120 [1:19:31<00:40, 40.00s/it]100%|██████████| 120/120 [1:20:11<00:00, 40.03s/it]100%|██████████| 120/120 [1:20:12<00:00, 40.10s/it]
Traceback (most recent call last):
  File "visualize.py", line 58, in <module>
    visualize(config)
  File "visualize.py", line 49, in visualize
    imageio.mimwrite(path.join(config.log_dir, "video.mp4"), rgb_frames, fps=30, quality=10, codecs="hvec")
  File "/data/csj000714/anaconda3/envs/mipNeRF/lib/python3.7/site-packages/imageio/v2.py", line 331, in mimwrite
    return file.write(ims, **kwargs)
  File "/data/csj000714/anaconda3/envs/mipNeRF/lib/python3.7/site-packages/imageio/core/legacy_plugin_wrapper.py", line 182, in write
    with self.legacy_get_writer(**kwargs) as writer:
  File "/data/csj000714/anaconda3/envs/mipNeRF/lib/python3.7/site-packages/imageio/core/legacy_plugin_wrapper.py", line 163, in legacy_get_writer
    return self._format.get_writer(self._request)
  File "/data/csj000714/anaconda3/envs/mipNeRF/lib/python3.7/site-packages/imageio/core/format.py", line 234, in get_writer
    return self.Writer(self, request)
  File "/data/csj000714/anaconda3/envs/mipNeRF/lib/python3.7/site-packages/imageio/core/format.py", line 311, in __init__
    self._open(**self.request.kwargs.copy())
TypeError: _open() got an unexpected keyword argument 'codecs'
Traceback (most recent call last):
  File "extract_mesh.py", line 10, in <module>
    import mcubes
ModuleNotFoundError: No module named 'mcubes'
